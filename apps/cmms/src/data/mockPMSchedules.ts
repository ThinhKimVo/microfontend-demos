import { PMSchedule } from '../types'

export const mockPMSchedules: PMSchedule[] = [
  {
    id: 'pm-001',
    name: 'PM Chiller - Monthly',
    description: 'Monthly preventive maintenance for Chiller system',
    mepCategory: 'HVAC',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Multiple Assets',
    assetIds: ['ast-001', 'ast-002'],
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 1,
    intervalUnit: 'months',
    startDate: '2024-01-15',
    nextDueDate: '2026-01-15',
    lastCompletedDate: '2025-12-15',
    estimatedDuration: 4,
    priorityLevel: 'High',
    assignedTeam: 'HVAC Team',
    requiredSkills: ['Chiller Maintenance', 'Refrigerant Handling'],
    checklist: [
      { stepNumber: 1, description: 'Check refrigerant gas pressure', isRequired: true, expectedOutcome: 'Pressure within acceptable range', requiresPhoto: false },
      { stepNumber: 2, description: 'Check lubricant oil level', isRequired: true, expectedOutcome: 'Oil level adequate', requiresPhoto: false },
      { stepNumber: 3, description: 'Clean heat exchanger tubes', isRequired: true, expectedOutcome: 'Tubes clean', requiresPhoto: true },
      { stepNumber: 4, description: 'Check belts/coupling', isRequired: true, expectedOutcome: 'No wear, not loose', requiresPhoto: false },
      { stepNumber: 5, description: 'Record operating readings', isRequired: true, expectedOutcome: 'Parameters within range', requiresPhoto: false },
    ],
    requiredParts: [
      { partId: 'part-002', quantity: 1 },
    ],
    leadTimeDays: 3,
    autoAssign: true,
    complianceRate: 95,
    totalScheduled: 24,
    totalCompleted: 23,
  },
  {
    id: 'pm-002',
    name: 'PM AHU - Monthly',
    description: 'Monthly AHU maintenance: filter replacement, belt inspection',
    mepCategory: 'HVAC',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Single Asset',
    assetIds: ['ast-004'],
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 1,
    intervalUnit: 'months',
    startDate: '2024-01-01',
    nextDueDate: '2026-01-09',
    lastCompletedDate: '2025-12-09',
    estimatedDuration: 2,
    priorityLevel: 'Medium',
    assignedTeam: 'HVAC Team',
    requiredSkills: ['Air Handling Units'],
    checklist: [
      { stepNumber: 1, description: 'Replace air filter (if needed)', isRequired: true, expectedOutcome: 'New or clean filter', requiresPhoto: true },
      { stepNumber: 2, description: 'Check belt tension', isRequired: true, expectedOutcome: 'Tension meets requirements', requiresPhoto: false },
      { stepNumber: 3, description: 'Clean cooling coil', isRequired: false, expectedOutcome: 'Coil clean', requiresPhoto: false },
      { stepNumber: 4, description: 'Check fan motor', isRequired: true, expectedOutcome: 'Motor runs smoothly', requiresPhoto: false },
    ],
    requiredParts: [
      { partId: 'part-003', quantity: 4 },
    ],
    leadTimeDays: 2,
    autoAssign: true,
    complianceRate: 100,
    totalScheduled: 24,
    totalCompleted: 24,
  },
  {
    id: 'pm-003',
    name: 'PM Generator - Monthly',
    description: 'Monthly generator operation test and inspection',
    mepCategory: 'Electrical',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Single Asset',
    assetIds: ['ast-008'],
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 1,
    intervalUnit: 'months',
    startDate: '2024-01-05',
    nextDueDate: '2026-02-05',
    lastCompletedDate: '2026-01-05',
    estimatedDuration: 3,
    priorityLevel: 'High',
    assignedTeam: 'Electrical Team',
    requiredSkills: ['Generator Maintenance'],
    checklist: [
      { stepNumber: 1, description: 'Check fuel level', isRequired: true, expectedOutcome: '>75% tank', requiresPhoto: false },
      { stepNumber: 2, description: 'Check coolant level', isRequired: true, expectedOutcome: 'Level adequate', requiresPhoto: false },
      { stepNumber: 3, description: 'Check lubricant oil level', isRequired: true, expectedOutcome: 'Level adequate', requiresPhoto: false },
      { stepNumber: 4, description: 'Test start sequence', isRequired: true, expectedOutcome: 'Start within <10s', requiresPhoto: false },
      { stepNumber: 5, description: 'Run load test 30 minutes', isRequired: true, expectedOutcome: 'Stable operation', requiresPhoto: true },
      { stepNumber: 6, description: 'Check battery', isRequired: true, expectedOutcome: 'Voltage >24V', requiresPhoto: false },
    ],
    leadTimeDays: 2,
    autoAssign: true,
    complianceRate: 100,
    totalScheduled: 24,
    totalCompleted: 24,
  },
  {
    id: 'pm-004',
    name: 'PM Fire Pump - Weekly',
    description: 'Weekly fire pump churn test',
    mepCategory: 'Fire',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Single Asset',
    assetIds: ['ast-012'],
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 1,
    intervalUnit: 'weeks',
    startDate: '2024-01-07',
    nextDueDate: '2026-01-14',
    lastCompletedDate: '2026-01-07',
    estimatedDuration: 1,
    priorityLevel: 'High',
    assignedTeam: 'Fire Safety Team',
    requiredSkills: ['Fire Pump Testing'],
    checklist: [
      { stepNumber: 1, description: 'Check tank water level', isRequired: true, expectedOutcome: '>80% capacity', requiresPhoto: false },
      { stepNumber: 2, description: 'Churn test electric pump', isRequired: true, expectedOutcome: 'Pressure meets requirements', requiresPhoto: false },
      { stepNumber: 3, description: 'Churn test diesel pump', isRequired: true, expectedOutcome: 'Auto start successful', requiresPhoto: false },
      { stepNumber: 4, description: 'Record operation log', isRequired: true, expectedOutcome: 'Complete log', requiresPhoto: true },
    ],
    leadTimeDays: 1,
    autoAssign: true,
    complianceRate: 98,
    totalScheduled: 104,
    totalCompleted: 102,
  },
  {
    id: 'pm-005',
    name: 'PM UPS - Quarterly',
    description: 'Quarterly UPS inspection and load test',
    mepCategory: 'Electrical',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Single Asset',
    assetIds: ['ast-009'],
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 3,
    intervalUnit: 'months',
    startDate: '2024-01-15',
    nextDueDate: '2026-04-15',
    lastCompletedDate: '2026-01-04',
    estimatedDuration: 2,
    priorityLevel: 'High',
    assignedTeam: 'Electrical Team',
    requiredSkills: ['UPS Systems'],
    checklist: [
      { stepNumber: 1, description: 'Check individual cell voltage', isRequired: true, expectedOutcome: '>12V/cell', requiresPhoto: false },
      { stepNumber: 2, description: 'Test discharge time', isRequired: true, expectedOutcome: '>15 minutes at 75% load', requiresPhoto: false },
      { stepNumber: 3, description: 'Check connections', isRequired: true, expectedOutcome: 'No loose, no oxidation', requiresPhoto: false },
      { stepNumber: 4, description: 'Clean UPS cabinet', isRequired: false, expectedOutcome: 'Cabinet clean', requiresPhoto: false },
    ],
    leadTimeDays: 5,
    autoAssign: true,
    complianceRate: 100,
    totalScheduled: 8,
    totalCompleted: 8,
  },
  {
    id: 'pm-006',
    name: 'PM Elevator - Quarterly',
    description: 'Quarterly elevator maintenance (coordinated with KONE)',
    mepCategory: 'Elevator',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Single Asset',
    assetIds: ['ast-014'],
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 3,
    intervalUnit: 'months',
    startDate: '2024-01-20',
    nextDueDate: '2026-01-20',
    lastCompletedDate: '2025-10-20',
    estimatedDuration: 4,
    priorityLevel: 'High',
    assignedTeam: 'External - KONE',
    requiredSkills: ['Elevators'],
    checklist: [
      { stepNumber: 1, description: 'Check cables', isRequired: true, expectedOutcome: 'Wear <10%', requiresPhoto: true },
      { stepNumber: 2, description: 'Check brakes', isRequired: true, expectedOutcome: 'Brakes meet requirements', requiresPhoto: false },
      { stepNumber: 3, description: 'Check cabin doors', isRequired: true, expectedOutcome: 'Doors open/close smoothly', requiresPhoto: false },
      { stepNumber: 4, description: 'Check control system', isRequired: true, expectedOutcome: 'No errors', requiresPhoto: false },
      { stepNumber: 5, description: 'Check cabin lighting', isRequired: true, expectedOutcome: 'Adequate lighting', requiresPhoto: false },
    ],
    leadTimeDays: 7,
    autoAssign: false,
    complianceRate: 100,
    totalScheduled: 8,
    totalCompleted: 8,
  },
  {
    id: 'pm-007',
    name: 'PM Cooling Tower - Monthly',
    description: 'Cooling tower maintenance: cleaning, water treatment check',
    mepCategory: 'HVAC',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Single Asset',
    assetIds: ['ast-003'],
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 1,
    intervalUnit: 'months',
    startDate: '2024-01-10',
    nextDueDate: '2026-01-10',
    lastCompletedDate: '2025-12-10',
    estimatedDuration: 3,
    priorityLevel: 'Medium',
    assignedTeam: 'HVAC Team',
    requiredSkills: ['Cooling Towers'],
    checklist: [
      { stepNumber: 1, description: 'Check chemical concentration', isRequired: true, expectedOutcome: 'TDS within range', requiresPhoto: false },
      { stepNumber: 2, description: 'Clean basin', isRequired: true, expectedOutcome: 'Basin clean', requiresPhoto: true },
      { stepNumber: 3, description: 'Check fill media', isRequired: true, expectedOutcome: 'No damage', requiresPhoto: false },
      { stepNumber: 4, description: 'Check fan motor', isRequired: true, expectedOutcome: 'Motor runs smoothly', requiresPhoto: false },
    ],
    leadTimeDays: 2,
    autoAssign: true,
    complianceRate: 92,
    totalScheduled: 24,
    totalCompleted: 22,
  },
  {
    id: 'pm-008',
    name: 'PM Electrical Panel - Yearly',
    description: 'Electrical panel thermography and torque check',
    mepCategory: 'Electrical',
    isActive: true,
    createdDate: '2024-01-01',
    scopeType: 'Building',
    buildingId: 'bld-001',
    frequencyType: 'Time-based',
    interval: 1,
    intervalUnit: 'years',
    startDate: '2024-03-01',
    nextDueDate: '2026-03-01',
    lastCompletedDate: '2025-03-01',
    estimatedDuration: 8,
    priorityLevel: 'High',
    assignedTeam: 'Electrical Team',
    requiredSkills: ['Electrical Testing', 'High Voltage'],
    checklist: [
      { stepNumber: 1, description: 'Take thermal images of electrical panels', isRequired: true, expectedOutcome: 'No hot spots >60Â°C', requiresPhoto: true },
      { stepNumber: 2, description: 'Re-torque all terminals', isRequired: true, expectedOutcome: 'Terminals tight', requiresPhoto: false },
      { stepNumber: 3, description: 'Clean electrical panels', isRequired: true, expectedOutcome: 'Panels clean, no dust', requiresPhoto: true },
      { stepNumber: 4, description: 'Test breaker trip', isRequired: true, expectedOutcome: 'Breaker trips correctly', requiresPhoto: false },
    ],
    leadTimeDays: 14,
    autoAssign: false,
    complianceRate: 100,
    totalScheduled: 2,
    totalCompleted: 2,
  },
]

export const getPMScheduleById = (id: string): PMSchedule | undefined => {
  return mockPMSchedules.find(pm => pm.id === id)
}

export const getPMSchedulesByBuilding = (buildingId: string): PMSchedule[] => {
  return mockPMSchedules.filter(pm => pm.buildingId === buildingId)
}

export const getActivePMSchedules = (): PMSchedule[] => {
  return mockPMSchedules.filter(pm => pm.isActive)
}

export const getUpcomingPMSchedules = (days: number = 7): PMSchedule[] => {
  const today = new Date()
  const futureDate = new Date(today.getTime() + days * 24 * 60 * 60 * 1000)
  return mockPMSchedules.filter(pm => {
    const dueDate = new Date(pm.nextDueDate)
    return dueDate >= today && dueDate <= futureDate
  })
}
